[pytest]
# Pytest configuration for Azure AI Search E2E tests

# Test discovery
testpaths = src/search/test
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Output options - multiple values separated by spaces
addopts = -v --strict-markers --strict-config --tb=short --capture=no --junitxml=test-results.xml --html=test-report.html --self-contained-html --durations=10

# Logging configuration
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s (%(filename)s:%(lineno)d)
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Test markers - one per line
markers =
    unit: Unit tests that run quickly and don't require external resources
    integration: Integration tests that may require external resources
    e2e: End-to-end tests that test the complete system
    search_resource: Tests related to Azure AI Search resources
    slow: Tests that take a long time to run
    requires_auth: Tests that require Azure authentication

# Minimum version
minversion = 6.0

# Test timeout (optional)
timeout = 300

# Filter warnings - one per line
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Required environment variables for tests - one per line
env =
    AISEARCH_NAME
    INDEX_NAME
    DATASOURCE_NAME
    SKILLSET_NAME
    INDEXER_NAME
